# 数据库相关

## MySQL

### 存储引擎

1. MyISAM
    * 不支持事务，外键。
    * 适用于读查询操作频繁的场景。
    * 支持全文索引。
2. InnoDB
    * 支持事务，外键。
    * 适用于插入更新操作多的场景。
    * 不支持全文索引。
### 唯一索引和主键索引的比较
1. 唯一索引
    * 唯一索引不允许两行具有相同的索引值。
    * 不能作为外键
2. 主键索引
    * 主键索引是唯一索引的特殊类型，其唯一索引名为primary。
    * 主键索引在每个表只能有一个。
    * 主键索引不能为null。


## 缓存

### redis 和 memcached

1. redis
    * 支持的数据类型更加多样。
    * 支持备份、持久化、事务功能。
    * 弱一致性。
    * 单线程
    * 数据可以持久化到磁盘
2. memcached
    * 键值对
    * 不支持备份、持久化、事务。
    * 强一致性
    * 多线程
    * 全内存存储

### 缓存更新策略

* **失效:** 首先从缓存中获取未过期的数据,没有获取到相关缓存数据就从数据库里获取数据,成功后放到缓存中,设置一个过期时间。

* **命中:** 应用从缓存中获取到有效的数据后直接返回数值。

* **更新:** 数据更新到数据库,更新成功后,设置缓存时间失效。